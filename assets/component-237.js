"use strict";(globalThis.webpackChunkshopify_craft_and_berry=globalThis.webpackChunkshopify_craft_and_berry||[]).push([[237],{237:(t,i,s)=>{s.r(i),s.d(i,{iv_wishlist:()=>l});var e=s(911);const d="iv-wishlist",l=class{constructor(t){(0,e.r)(this,t)}buttonaddvalue="Add to wishlist";buttonremovevalue="Remove from wishlist";wishlistempty="Your wishlist is empty";buttonaddtocartvalue="Add to cart";viewwishlistvalue="View wishlist";productdata={};usefields="id,title,price,image,url";previewtype="modal";componentWillLoad(){const t=localStorage.getItem("wishlist");t&&(e.d.wishlist=JSON.parse(t)),e.d.wishlistLabels={removeLabel:this.buttonremovevalue,addToCartLabel:this.buttonaddtocartvalue,emptyMessage:this.wishlistempty}}get itemFromWishlist(){return e.d.wishlist.some(t=>t.id===this.productdata.id)||e.d.wishlist.length>0}get buttonLabel(){return this.itemFromWishlist&&this.buttonremovevalue||this.buttonaddvalue}get requestedFields(){let t=this.usefields.split(",").map(t=>t.trim());return t.includes("id")||t.push("id"),t.includes("title")||t.push("title"),t}addToWishlist(){e.d.loading=!0;const t={};this.requestedFields.forEach(i=>{this.productdata.hasOwnProperty(i)&&(t[i]=this.productdata[i])}),e.d.wishlist=[...e.d.wishlist,t],localStorage.setItem("wishlist",JSON.stringify(e.d.wishlist)),e.d.loading=!1,(0,e.e)(`${t.title} added to wishlist`,"success",5e3)}render(){return(0,e.h)("div",{key:"0a2b8f1b8beb9f0943dd65a2ecbe98d9a72f6b8f",class:`${d}`},(0,e.h)("iv-button",{key:"7bf32904564709b3b2b76d550e16086879f679a3",classmodifier:`${d}-add ${this.itemFromWishlist?"remove":"add"}`,onClick:()=>this.itemFromWishlist?(0,e.i)(this.productdata.id):this.addToWishlist()},(0,e.h)("span",{key:"00e13b051d575b0d44ba4f93e05cdc5445dd981e",class:"inner-button",innerHTML:this.buttonLabel})),e.d.wishlist.length>0&&(0,e.h)("iv-button",{key:"ef817b90e4940be471c99a3e06a367a762b58e9c",classmodifier:`${d}-view`,onClick:()=>"modal"===this.previewtype?(0,e.t)("wishlist"):(0,e.f)("wishlist")},(0,e.h)("span",{key:"1060c8d77bf7f354dce6de76280d7db4d1abe070",class:"inner-button",innerHTML:this.viewwishlistvalue})))}};l.style=":host{display:block}"}}]);